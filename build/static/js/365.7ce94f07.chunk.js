"use strict";(self.webpackChunkaddressbook=self.webpackChunkaddressbook||[]).push([[365],{1365:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var n=a(5671),s=a(3144),i=a(9340),o=a(8557),r=a(2791),d=a(6106),c=a(914),l=a(135),u=a(7309),m=a(5500),h=a(7567),p=a(3099),f=a(5796),x=a(1752),j=a(2622),Z=a(184),N=h.Z.Column,D=h.Z.ColumnGroup,v=function(e){return(0,Z.jsxs)(h.Z,{dataSource:e.addessData,bordered:!0,children:[(0,Z.jsxs)(D,{title:"Name",children:[(0,Z.jsx)(N,{title:"First Name",dataIndex:"First_Name"},"firstName"),(0,Z.jsx)(N,{title:"Last Name",dataIndex:"Last_Name"},"lastName")]}),(0,Z.jsx)(N,{title:"Birthday",dataIndex:"Birthday"},"Birthday"),(0,Z.jsx)(N,{title:"Emails",dataIndex:"Emails"},"Emails"),(0,Z.jsxs)(D,{title:"Phones",children:[(0,Z.jsx)(N,{title:"Mobile",dataIndex:"Phones",render:function(e){return(0,Z.jsx)("span",{children:e[0].Phone_Number})}},"Mobile"),(0,Z.jsx)(N,{title:"Home",dataIndex:"Phones",render:function(e){return(0,Z.jsx)("span",{children:e[1].Phone_Number})}},"Home")]}),(0,Z.jsx)(N,{title:"Action",render:function(t,a){return(0,Z.jsxs)(p.Z,{size:"middle",children:[(0,Z.jsx)("a",{onClick:function(){e.getEditData(a)},children:(0,Z.jsx)(x.Z,{})}),(0,Z.jsx)("a",{onClick:function(){!function(e,t){m.Z.confirm({title:"Confirm",icon:(0,Z.jsx)(f.Z,{}),content:"Do you want to delete this record?",okText:"Yes",cancelText:"No",onOk:function(){e.deleteRow(t)}})}(e,a)},children:(0,Z.jsx)(j.Z,{})})]})}},"action")]})},C=a(2074),y=a(7496),b=l.Z.TextArea,g=function(e){(0,i.Z)(a,e);var t=(0,o.Z)(a);function a(e){var s;return(0,n.Z)(this,a),(s=t.call(this,e)).onFinish=function(e){s.props.SaveFormData(e,s.props.RowData)},s.state={initialValues:{}},s}return(0,s.Z)(a,[{key:"render",value:function(){return(0,Z.jsx)("div",{className:"createContact",children:(0,Z.jsxs)(y.Z,{name:"createContact",className:"createContactForm",initialValues:this.props.initialValues,onFinish:this.onFinish,children:[(0,Z.jsx)(y.Z.Item,{name:"First_Name",rules:[{required:!0,message:"Please input your First Name!"}],children:(0,Z.jsx)(l.Z,{className:"Input",placeholder:"First Name"})}),(0,Z.jsx)(y.Z.Item,{name:"Last_Name",rules:[{required:!0,message:"Please input your Last Name!"}],children:(0,Z.jsx)(l.Z,{placeholder:"Last Name",className:"Input"})}),(0,Z.jsx)(y.Z.Item,{name:"Mobile",rules:[{required:!0,message:"Please input your Mobile Number!"}],children:(0,Z.jsx)(l.Z,{placeholder:"Mobile Contact Number",className:"input"})}),(0,Z.jsx)(y.Z.Item,{name:"Home",rules:[{required:!0,message:"Please input your Home Contact Number!"}],children:(0,Z.jsx)(l.Z,{placeholder:"Home Contact Number",className:"input"})}),(0,Z.jsx)(y.Z.Item,{name:"Birthday",rules:[{required:!0,message:"Please input your Birthday!"}],children:(0,Z.jsx)(l.Z,{placeholder:"Birthday",className:"Input"})}),(0,Z.jsx)(y.Z.Item,{name:"Description",rules:[{required:!0,message:"Please input your Description!"}],children:(0,Z.jsx)(b,{placeholder:"Description"})}),(0,Z.jsx)(y.Z.Item,{name:"Emails",rules:[{required:!0,message:"Please input your Email!"}],children:(0,Z.jsx)(l.Z,{placeholder:"Email",className:"input"})}),(0,Z.jsx)(y.Z.Item,{className:"ButtonSubmit",children:(0,Z.jsx)(u.Z,{type:"primary",htmlType:"submit",className:"savebutton",children:this.props.edit?"Update":"Save"})})]})})}}]),a}(r.Component),w=a(364),P=a(2426),I=a.n(P),E=function(e){(0,i.Z)(a,e);var t=(0,o.Z)(a);function a(e){var s;return(0,n.Z)(this,a),(s=t.call(this,e)).openContactModal=function(e){s.setState({addContactModal:e,edit:!1,initialValues:{}})},s.fetchAddress=function(){C.Z.get("Address").then((function(e){e&&s.setState({addessData:e})}))},s.getEditData=function(e){var t,a={First_Name:e.First_Name,Last_Name:e.Last_Name,Birthday:e.Birthday?e.Birthday:"",Description:e.Description?e.Description:"",Emails:e.Emails?e.Emails:"",Mobile:e.Phones[0].Phone_Number,Home:null===e||void 0===e||null===(t=e.Phones[1])||void 0===t?void 0:t.Phone_Number};s.setState({rowData:e,edit:!0,initialValues:a},(function(){s.setState({addContactModal:!0})}))},s.deleteRow=function(e){C.Z.delete("Address/".concat(null===e||void 0===e?void 0:e.id,"/")).then((function(e){s.fetchAddress()}))},s.SaveFormData=function(e,t){var a=I().utc(),n={id:s.state.edit?null===t||void 0===t?void 0:t.id:s.state.addessData.length+1,First_Name:e.First_Name,Last_Name:e.Last_Name,Birthday:e.Birthday?e.Birthday:"",Description:e.Description?e.Description:"",Emails:e.Emails?e.Emails:"",Phones:[{Type:"Mobile",Phone_Number:e.Mobile},{Type:"Home",Phone_Number:e.Home?e.Home:""}],OwnerId:s.state.edit?null===t||void 0===t?void 0:t.OwnerId:s.props.userData.id,CreatedDate:s.state.edit?null===t||void 0===t?void 0:t.CreatedDate:new Date(a.format()),UpdatedDate:s.state.edit?new Date(a.format()):null===t||void 0===t?void 0:t.UpdatedDate};s.state.edit?C.Z.put("Address/".concat(null===t||void 0===t?void 0:t.id,"/"),n).then((function(e){e&&Object.values(e).length&&s.fetchAddress()})):C.Z.post("Address",n).then((function(e){e&&Object.values(e).length&&s.fetchAddress()})),s.setState({addContactModal:!1})},s.onEnter=function(e){"Enter"==e.key&&C.Z.get("Address?q=".concat(e.target.value)).then((function(e){e&&s.setState({addessData:e})}))},s.state={addessData:[],addContactModal:!1,rowData:{},edit:!1},s}return(0,s.Z)(a,[{key:"componentDidMount",value:function(){this.fetchAddress()}},{key:"render",value:function(){var e=this;return(0,Z.jsxs)(d.Z,{className:"contactContainer",children:[(0,Z.jsxs)(c.Z,{span:24,className:"header",children:[(0,Z.jsx)(c.Z,{span:4,className:"headerLeft",children:"Contacts"}),(0,Z.jsxs)(c.Z,{span:20,className:"headerRight",children:[(0,Z.jsx)(c.Z,{span:20,children:(0,Z.jsx)(l.Z,{placeholder:"Type text and enter to Search",onKeyDown:function(t){e.onEnter(t)},className:"search"})}),(0,Z.jsx)(c.Z,{span:4,children:(0,Z.jsx)(u.Z,{className:"AddButton",onClick:function(){return e.openContactModal(!0)},children:"Add Contact"})})]})]}),(0,Z.jsx)(c.Z,{span:24,children:(0,Z.jsx)(v,{addessData:this.state.addessData,getEditData:this.getEditData,deleteRow:this.deleteRow})}),this.state.addContactModal?(0,Z.jsx)(m.Z,{title:this.state.edit?"Update Contact":"Create A New Contact",footer:null,visible:!0,onCancel:function(){return e.openContactModal(!1)},children:(0,Z.jsx)(g,{RowData:this.state.rowData,edit:this.state.edit,initialValues:this.state.initialValues,SaveFormData:this.SaveFormData})}):null]})}}]),a}(r.Component),_=(0,w.$j)((function(e){return{userData:e.LoggedInUserData.loggednUserData}}))(E)},2074:function(e,t,a){var n=a(1413),s=a(4569),i=a.n(s),o="http://localhost:4000/",r={getUsers:function(e,t){var a={};return new Promise((function(s,r){i().get("".concat(o).concat(e)).then((function(e){e.data.map((function(e){e.username==t.username&&e.password==t.password&&(a=(0,n.Z)({},e))})),s(a)})).catch((function(e){r(e)}))}))},get:function(e){return new Promise((function(t,a){i().get("".concat(o).concat(e)).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))},post:function(e,t){return new Promise((function(a,n){i().post("".concat(o).concat(e),t).then((function(e){a(e.data)})).catch((function(e){n(e)}))}))},put:function(e,t){return new Promise((function(a,n){i().put("".concat(o).concat(e),t).then((function(e){a(e.data)})).catch((function(e){n(e)}))}))},delete:function(e){return new Promise((function(t,a){i().delete("".concat(o).concat(e)).then((function(e){t(e.data)})).catch((function(e){a(e)}))}))}};t.Z=r}}]);
//# sourceMappingURL=365.7ce94f07.chunk.js.map